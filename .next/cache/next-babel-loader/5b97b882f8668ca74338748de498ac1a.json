{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\personal\\\\Project\\\\our-college-tree\\\\components\\\\user\\\\Login.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport Router, { withRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport Axios from 'axios';\nimport { Image, Grid, Container, Input, Header, Divider, Form, Message } from 'semantic-ui-react';\nimport Api from '../../config/Api'; // import { updateUser } from './LoginSlice';\n// import { setCookie } from '../../libs/cookies/cookieHelpers';\n\nvar Login = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Login, _React$PureComponent);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var _this$setState;\n\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      var nameErrors = \"\".concat(name, \"Errors\");\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, nameErrors, []), _defineProperty(_this$setState, \"errors\", []), _this$setState));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      var _this$props$router = _this.props.router,\n          query = _this$props$router.query,\n          next = _this$props$router.query.next;\n      var updateUserAction = _this.props.updateUser;\n\n      _this.setState({\n        isLoading: true\n      });\n\n      Axios.post(Api.userLogin, {\n        email: email,\n        password: password\n      }).then(function (_ref) {\n        var _ref$data = _ref.data,\n            key = _ref$data.key,\n            details = _ref$data.details;\n        setCookie(key);\n        updateUserAction({\n          isLoggedIn: true,\n          accessToken: key,\n          userDetails: details\n        });\n        Router.push('/admin');\n      })[\"catch\"](function (_ref2) {\n        var _ref2$response = _ref2.response,\n            data = _ref2$response.data,\n            status = _ref2$response.status,\n            statusText = _ref2$response.statusText;\n        console.log(\"login error\", data);\n      })[\"finally\"](function () {\n        _this.setState({\n          isLoading: false\n        });\n      });\n    });\n\n    _this.state = {\n      isLoading: false,\n      email: '',\n      emailErrors: [],\n      password: '',\n      passwordErrors: [],\n      errors: []\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          isLoading = _this$state2.isLoading,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          emailErrors = _this$state2.emailErrors,\n          passwordErrors = _this$state2.passwordErrors,\n          errors = _this$state2.errors;\n      var buttonStatus = email.length > 0 && password.length > 0;\n      return (//   <Container>\n        // <Grid centered>\n        //   <Grid.Row verticalAlign=\"middle\">\n        //     <Grid.Column mobile={16} tablet={8} computer={8}>\n        //       <Header as=\"h1\" textAlign=\"center\">Login</Header>\n        //       <Form onSubmit={this.onSubmit} error={errors.length > 0} loading={isLoading}>\n        //         <Form.Input name=\"email\" label=\"Email Address\" type=\"text\" placeholder=\"Email Address\" onChange={this.onChange} value={email} error={emailErrors.length ? emailErrors.join() : null} />\n        //         <Form.Input name=\"password\" label=\"Password\" type=\"password\" placeholder=\"Password\" onChange={this.onChange} value={password} error={passwordErrors.length ? passwordErrors.join() : null} />\n        //         <Message hidden={!errors.length} error list={errors} />\n        //         <Form.Button content=\"Log In\" positive fluid disabled={!buttonStatus}></Form.Button>\n        //       </Form>\n        //     </Grid.Column>\n        //   </Grid.Row>\n        //   <Grid.Row>\n        //     <Grid.Column mobile={16} tablet={8} computer={8}>\n        //       <Divider horizontal>Or</Divider>\n        //       <Grid columns={1}>\n        //         <Grid.Column>\n        //           <Header as=\"h5\" textAlign=\"center\">\n        //             <Link href=\"/user/forgot-password\" passHref><a title=\"Forgot Password\">Forgot Password?</a></Link>\n        //           </Header>\n        //         </Grid.Column>\n        //       </Grid>\n        //     </Grid.Column>\n        //   </Grid.Row>\n        // </Grid>\n        //   </Container>\n        __jsx(\"div\", {\n          className: \"loginSignup\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 5\n          }\n        }, __jsx(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }\n        }, __jsx(\"div\", {\n          style: {\n            width: '100%',\n            \"float\": 'right',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }\n        }, __jsx(Grid, {\n          centered: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 20\n          }\n        }, __jsx(Grid.Row, {\n          verticalAlign: \"middle\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }\n        }, __jsx(Grid.Column, {\n          mobile: 16,\n          tablet: 8,\n          computer: 16,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }\n        }, __jsx(Header, {\n          color: \"yellow\",\n          as: \"h1\",\n          textAlign: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }\n        }, \"Login\"), __jsx(Form, {\n          onSubmit: this.onSubmit,\n          error: errors.length > 0,\n          loading: isLoading,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }\n        }, __jsx(Form.Field, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }\n        }, __jsx(\"lable\", {\n          style: {\n            color: \"yellow\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        }, \"Email Address\"), __jsx(Input, {\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"Email Address\",\n          onChange: this.onChange,\n          value: email,\n          error: emailErrors.length ? emailErrors.join() : null,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 75\n          }\n        })), __jsx(Form.Field, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }\n        }, __jsx(\"lable\", {\n          style: {\n            color: \"yellow\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }\n        }, \"Password\"), __jsx(Input, {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: this.onChange,\n          value: password,\n          error: passwordErrors.length ? passwordErrors.join() : null,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        })), __jsx(Message, {\n          hidden: !errors.length,\n          error: true,\n          list: errors,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }\n        }), __jsx(Form.Button, {\n          content: \"Log In\",\n          positive: true,\n          fluid: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }\n        })))), __jsx(Grid.Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }\n        }, __jsx(Grid.Column, {\n          mobile: 16,\n          tablet: 8,\n          computer: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }\n        }, __jsx(Divider, {\n          horizontal: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }\n        }, __jsx(\"p\", {\n          style: {\n            color: \"white\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 35\n          }\n        }, \"Or\")), __jsx(Grid, {\n          columns: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }\n        }, __jsx(Grid.Column, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }\n        }, __jsx(Header, {\n          as: \"h5\",\n          textAlign: \"center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 19\n          }\n        }, __jsx(Link, {\n          href: \"/user/forgot-password\",\n          passHref: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }\n        }, __jsx(\"a\", {\n          title: \"Forgot Password\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 65\n          }\n        }, \"Forgot Password?\")))))))))))\n      );\n    }\n  }]);\n\n  return Login;\n}(React.PureComponent);\n\nvar mapStateToProps = null;\nvar mapDispatchToProps = {//updateUser\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));","map":{"version":3,"sources":["D:/personal/Project/our-college-tree/components/user/Login.js"],"names":["React","Link","Router","withRouter","connect","Axios","Image","Grid","Container","Input","Header","Divider","Form","Message","Api","Login","props","e","target","name","value","nameErrors","setState","state","email","password","router","query","next","updateUserAction","updateUser","isLoading","post","userLogin","then","data","key","details","setCookie","isLoggedIn","accessToken","userDetails","push","response","status","statusText","console","log","emailErrors","passwordErrors","errors","buttonStatus","length","position","top","left","bottom","right","width","height","display","alignItems","justifyContent","onSubmit","color","onChange","join","PureComponent","mapStateToProps","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,IAAiBC,UAAjB,QAAmC,aAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,KADF,EACSC,IADT,EACeC,SADf,EAC0BC,KAD1B,EACiCC,MADjC,EACyCC,OADzC,EACkDC,IADlD,EACwDC,OADxD,QAEO,mBAFP;AAIA,OAAOC,GAAP,MAAgB,kBAAhB,C,CACA;AACA;;IAGMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,+DAYR,UAACC,CAAD,EAAO;AAAA;;AAAA,sBACQA,CAAC,CAACC,MADV;AAAA,UACRC,IADQ,aACRA,IADQ;AAAA,UACFC,KADE,aACFA,KADE;AAEhB,UAAMC,UAAU,aAAMF,IAAN,WAAhB;;AACA,YAAKG,QAAL,uDAAiBH,IAAjB,EAAwBC,KAAxB,mCAAgCC,UAAhC,EAA6C,EAA7C,6CAAyD,EAAzD;AACD,KAhBkB;;AAAA,+DAkBR,YAAM;AAAA,wBACa,MAAKE,KADlB;AAAA,UACPC,KADO,eACPA,KADO;AAAA,UACAC,QADA,eACAA,QADA;AAAA,+BAEgC,MAAKT,KAFrC,CAEPU,MAFO;AAAA,UAEGC,KAFH,sBAEGA,KAFH;AAAA,UAEmBC,IAFnB,sBAEUD,KAFV,CAEmBC,IAFnB;AAAA,UAGKC,gBAHL,GAG0B,MAAKb,KAH/B,CAGPc,UAHO;;AAIf,YAAKR,QAAL,CAAc;AAAES,QAAAA,SAAS,EAAE;AAAb,OAAd;;AACA1B,MAAAA,KAAK,CAAC2B,IAAN,CAAWlB,GAAG,CAACmB,SAAf,EAA0B;AAAET,QAAAA,KAAK,EAALA,KAAF;AAASC,QAAAA,QAAQ,EAARA;AAAT,OAA1B,EACGS,IADH,CACQ,gBAAgC;AAAA,6BAA7BC,IAA6B;AAAA,YAArBC,GAAqB,aAArBA,GAAqB;AAAA,YAAhBC,OAAgB,aAAhBA,OAAgB;AACpCC,QAAAA,SAAS,CAACF,GAAD,CAAT;AACAP,QAAAA,gBAAgB,CAAC;AAAEU,UAAAA,UAAU,EAAE,IAAd;AAAoBC,UAAAA,WAAW,EAAEJ,GAAjC;AAAsCK,UAAAA,WAAW,EAAEJ;AAAnD,SAAD,CAAhB;AACAnC,QAAAA,MAAM,CAACwC,IAAP,CAAY,QAAZ;AACD,OALH,WAMS,iBAAgD;AAAA,mCAA7CC,QAA6C;AAAA,YAAjCR,IAAiC,kBAAjCA,IAAiC;AAAA,YAA3BS,MAA2B,kBAA3BA,MAA2B;AAAA,YAAnBC,UAAmB,kBAAnBA,UAAmB;AACrDC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BZ,IAA3B;AAAiC,OAPrC,aAQW,YAAM;AAAE,cAAKb,QAAL,CAAc;AAAES,UAAAA,SAAS,EAAE;AAAb,SAAd;AAAsC,OARzD;AASD,KAhCkB;;AAEjB,UAAKR,KAAL,GAAa;AACXQ,MAAAA,SAAS,EAAE,KADA;AAEXP,MAAAA,KAAK,EAAE,EAFI;AAGXwB,MAAAA,WAAW,EAAE,EAHF;AAIXvB,MAAAA,QAAQ,EAAE,EAJC;AAKXwB,MAAAA,cAAc,EAAE,EALL;AAMXC,MAAAA,MAAM,EAAE;AANG,KAAb;AAFiB;AAUlB;;;;6BAwBQ;AAAA,yBAGH,KAAK3B,KAHF;AAAA,UAELQ,SAFK,gBAELA,SAFK;AAAA,UAEMP,KAFN,gBAEMA,KAFN;AAAA,UAEaC,QAFb,gBAEaA,QAFb;AAAA,UAEuBuB,WAFvB,gBAEuBA,WAFvB;AAAA,UAEoCC,cAFpC,gBAEoCA,cAFpC;AAAA,UAEoDC,MAFpD,gBAEoDA,MAFpD;AAIP,UAAMC,YAAY,GAAG3B,KAAK,CAAC4B,MAAN,GAAe,CAAf,IAAoB3B,QAAQ,CAAC2B,MAAT,GAAkB,CAA3D;AAEA,aACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEM;AAAK,UAAA,KAAK,EAAE;AACVC,YAAAA,QAAQ,EAAE,UADA;AACYC,YAAAA,GAAG,EAAE,CADjB;AACoBC,YAAAA,IAAI,EAAE,CAD1B;AAC6BC,YAAAA,MAAM,EAAE,CADrC;AACwCC,YAAAA,KAAK,EAAE;AAD/C,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIE;AAAK,UAAA,KAAK,EAAE;AACVC,YAAAA,KAAK,EAAE,MADG;AACK,qBAAO,OADZ;AACqBC,YAAAA,MAAM,EAAE,MAD7B;AACqCC,YAAAA,OAAO,EAAE,MAD9C;AACsDC,YAAAA,UAAU,EAAE,QADlE;AAC4EC,YAAAA,cAAc,EAAE;AAD5F,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIO,MAAC,IAAD;AAAM,UAAA,QAAQ,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACT,MAAC,IAAD,CAAM,GAAN;AAAU,UAAA,aAAa,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD,CAAM,MAAN;AAAa,UAAA,MAAM,EAAE,EAArB;AAAyB,UAAA,MAAM,EAAE,CAAjC;AAAoC,UAAA,QAAQ,EAAE,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,QAAd;AAAuB,UAAA,EAAE,EAAC,IAA1B;AAA+B,UAAA,SAAS,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,MAAC,IAAD;AAAM,UAAA,QAAQ,EAAE,KAAKC,QAArB;AAA+B,UAAA,KAAK,EAAEb,MAAM,CAACE,MAAP,GAAgB,CAAtD;AAAyD,UAAA,OAAO,EAAErB,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,KAAK,EAAE;AAACiC,YAAAA,KAAK,EAAE;AAAR,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAC0D,MAAC,KAAD;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,IAAI,EAAC,MAAzB;AAAgC,UAAA,WAAW,EAAC,eAA5C;AAA4D,UAAA,QAAQ,EAAE,KAAKC,QAA3E;AAAqF,UAAA,KAAK,EAAEzC,KAA5F;AAAmG,UAAA,KAAK,EAAEwB,WAAW,CAACI,MAAZ,GAAqBJ,WAAW,CAACkB,IAAZ,EAArB,GAA0C,IAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAD1D,CADF,EAGE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAO,UAAA,KAAK,EAAE;AAACF,YAAAA,KAAK,EAAE;AAAR,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,EAEI,MAAC,KAAD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,IAAI,EAAC,UAA5B;AAAuC,UAAA,WAAW,EAAC,UAAnD;AAA8D,UAAA,QAAQ,EAAE,KAAKC,QAA7E;AAAuF,UAAA,KAAK,EAAExC,QAA9F;AAAwG,UAAA,KAAK,EAAEwB,cAAc,CAACG,MAAf,GAAwBH,cAAc,CAACiB,IAAf,EAAxB,GAAgD,IAA/J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CAHF,EAME,MAAC,OAAD;AAAS,UAAA,MAAM,EAAE,CAAChB,MAAM,CAACE,MAAzB;AAAiC,UAAA,KAAK,MAAtC;AAAuC,UAAA,IAAI,EAAEF,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANF,EAOE,MAAC,IAAD,CAAM,MAAN;AAAa,UAAA,OAAO,EAAC,QAArB;AAA8B,UAAA,QAAQ,MAAtC;AAAuC,UAAA,KAAK,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,CAFF,CADF,CADS,EAeT,MAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD,CAAM,MAAN;AAAa,UAAA,MAAM,EAAE,EAArB;AAAyB,UAAA,MAAM,EAAE,CAAjC;AAAoC,UAAA,QAAQ,EAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,OAAD;AAAS,UAAA,UAAU,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoB;AAAG,UAAA,KAAK,EAAE;AAACc,YAAAA,KAAK,EAAE;AAAR,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApB,CADF,EAEE,MAAC,IAAD;AAAM,UAAA,OAAO,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,MAAD;AAAQ,UAAA,EAAE,EAAC,IAAX;AAAgB,UAAA,SAAS,EAAC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD;AAAM,UAAA,IAAI,EAAC,uBAAX;AAAmC,UAAA,QAAQ,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4C;AAAG,UAAA,KAAK,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA5C,CADF,CADF,CADF,CAFF,CADF,CAfS,CAJP,CAJF,CAFN;AA5BA;AAsED;;;;EA/GiBhE,KAAK,CAACmE,a;;AAmH1B,IAAMC,eAAe,GAAG,IAAxB;AACA,IAAMC,kBAAkB,GAAG,CACvB;AADuB,CAA3B;AAIA,eAAelE,UAAU,CAACC,OAAO,CAACgE,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CtD,KAA7C,CAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport Router, { withRouter } from 'next/router';\r\nimport { connect } from 'react-redux';\r\nimport Axios from 'axios';\r\nimport {\r\n  Image, Grid, Container, Input, Header, Divider, Form, Message,\r\n} from 'semantic-ui-react';\r\n\r\nimport Api from '../../config/Api';\r\n// import { updateUser } from './LoginSlice';\r\n// import { setCookie } from '../../libs/cookies/cookieHelpers';\r\n\r\n\r\nclass Login extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      email: '',\r\n      emailErrors: [],\r\n      password: '',\r\n      passwordErrors: [],\r\n      errors: [],\r\n    };\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const nameErrors = `${name}Errors`;\r\n    this.setState({ [name]: value, [nameErrors]: [], errors: [] });\r\n  }\r\n\r\n  onSubmit = () => {\r\n    const { email, password } = this.state;\r\n    const { router: { query, query: { next } } } = this.props;\r\n    const { updateUser: updateUserAction } = this.props;\r\n    this.setState({ isLoading: true });\r\n    Axios.post(Api.userLogin, { email, password })\r\n      .then(({ data: { key, details } }) => {\r\n        setCookie(key);\r\n        updateUserAction({ isLoggedIn: true, accessToken: key, userDetails: details });\r\n        Router.push('/admin');\r\n      })\r\n      .catch(({ response: { data, status, statusText } }) => {\r\n        console.log(\"login error\", data)})\r\n      .finally(() => { this.setState({ isLoading: false }); });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading, email, password, emailErrors, passwordErrors, errors,\r\n    } = this.state;\r\n    const buttonStatus = email.length > 0 && password.length > 0;\r\n\r\n    return (\r\n    //   <Container>\r\n        // <Grid centered>\r\n        //   <Grid.Row verticalAlign=\"middle\">\r\n        //     <Grid.Column mobile={16} tablet={8} computer={8}>\r\n        //       <Header as=\"h1\" textAlign=\"center\">Login</Header>\r\n        //       <Form onSubmit={this.onSubmit} error={errors.length > 0} loading={isLoading}>\r\n        //         <Form.Input name=\"email\" label=\"Email Address\" type=\"text\" placeholder=\"Email Address\" onChange={this.onChange} value={email} error={emailErrors.length ? emailErrors.join() : null} />\r\n        //         <Form.Input name=\"password\" label=\"Password\" type=\"password\" placeholder=\"Password\" onChange={this.onChange} value={password} error={passwordErrors.length ? passwordErrors.join() : null} />\r\n        //         <Message hidden={!errors.length} error list={errors} />\r\n        //         <Form.Button content=\"Log In\" positive fluid disabled={!buttonStatus}></Form.Button>\r\n        //       </Form>\r\n        //     </Grid.Column>\r\n        //   </Grid.Row>\r\n        //   <Grid.Row>\r\n        //     <Grid.Column mobile={16} tablet={8} computer={8}>\r\n        //       <Divider horizontal>Or</Divider>\r\n        //       <Grid columns={1}>\r\n        //         <Grid.Column>\r\n        //           <Header as=\"h5\" textAlign=\"center\">\r\n        //             <Link href=\"/user/forgot-password\" passHref><a title=\"Forgot Password\">Forgot Password?</a></Link>\r\n        //           </Header>\r\n        //         </Grid.Column>\r\n        //       </Grid>\r\n        //     </Grid.Column>\r\n        //   </Grid.Row>\r\n        // </Grid>\r\n    //   </Container>\r\n    <div className=\"loginSignup\">\r\n          {/* <HeaderComp opaque /> */}\r\n          <div style={{\r\n            position: 'absolute', top: 0, left: 0, bottom: 0, right: 0,\r\n          }}\r\n          >\r\n            <div style={{\r\n              width: '100%', float: 'right', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n            }}\r\n            >\r\n                   <Grid centered>\r\n          <Grid.Row verticalAlign=\"middle\">\r\n            <Grid.Column mobile={16} tablet={8} computer={16}>\r\n              <Header color=\"yellow\" as=\"h1\" textAlign=\"center\">Login</Header>\r\n              <Form onSubmit={this.onSubmit} error={errors.length > 0} loading={isLoading}>\r\n                <Form.Field>\r\n                    <lable style={{color: \"yellow\"}}>Email Address</lable><Input name=\"email\" type=\"text\" placeholder=\"Email Address\" onChange={this.onChange} value={email} error={emailErrors.length ? emailErrors.join() : null} /></Form.Field>\r\n                <Form.Field>\r\n                <lable style={{color: \"yellow\"}}>Password</lable>\r\n                    <Input name=\"password\" type=\"password\" placeholder=\"Password\" onChange={this.onChange} value={password} error={passwordErrors.length ? passwordErrors.join() : null} /></Form.Field>\r\n                <Message hidden={!errors.length} error list={errors} />\r\n                <Form.Button content=\"Log In\" positive fluid></Form.Button>\r\n              </Form>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            <Grid.Column mobile={16} tablet={8} computer={8}>\r\n              <Divider horizontal><p style={{color: \"white\"}}>Or</p></Divider>\r\n              <Grid columns={1}>\r\n                <Grid.Column>\r\n                  <Header as=\"h5\" textAlign=\"center\">\r\n                    <Link href=\"/user/forgot-password\" passHref><a title=\"Forgot Password\">Forgot Password?</a></Link>\r\n                  </Header>\r\n                </Grid.Column>\r\n              </Grid>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n            </div>\r\n            </div>\r\n            </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = null;\r\nconst mapDispatchToProps = { \r\n    //updateUser\r\n };\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\r\n"]},"metadata":{},"sourceType":"module"}